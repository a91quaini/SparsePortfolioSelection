% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utils_empirics.R
\name{run_empirical_design_h1}
\alias{run_empirical_design_h1}
\title{Run theory-consistent empirical design for h=1 (monthly/daily rebalancing)}
\usage{
run_empirical_design_h1(
  R_excess,
  rf = NULL,
  T_in,
  k_grid,
  compute_weights_fn,
  tol_turnover = 1e-12,
  annualize = TRUE,
  frequency = c("monthly", "daily"),
  on_error = c("stop", "skip"),
  return_paths = FALSE,
  parallel = FALSE,
  n_cores = 1L,
  parallel_backend = c("auto", "fork", "psock")
)
}
\description{
Windows end at t = T_in,...,T0-1, weights formed at end of t and held over t+1.
Moments use denominator T_in:
mu_t    = (1/T_in) sum r_s
Sigma_t = (1/T_in) sum r_s r_s' - mu_t mu_t'
}
\details{
compute_weights_fn can be either:
(A) vectorized: compute_weights_fn(mu, sigma, k_grid) returning list-of-K OR matrix
(B) scalar:     compute_weights_fn(mu, sigma, k) returning list for one k
}
